# **🚀**요구 사항 분석하기

## **다리**

- 다리는 왼쪽에서 오른쪽으로 건넌다
- 다리의 각 칸은 0 또는 1의 값을 가진다 (아래 / 위로 건널 수 있음)
- U / D로 위 / 아래 칸을 나타낸다
- 게임을 재 시작 하더라도 다리 상태는 그대로

### 길이

다리의 길이는 `[3,20]` 사이의 값

잘못된 값 입력 시 `IllegalArgumentException` 발생 → 그 부분부터 다시 입력 받는다

플레이어가 이동할 칸을 입력 받아 **현재 위치에** 알맞은 값이면 O / 아니면 X를 출력

→ 모듈은 사용자의 현재 위치를 입력 받던 / 기억하던 해야함(`stateful`)

→ `Bridge` 객체를 입력 받아 메시지를 보냄

→ `getter`를 통한 `OutputView` 지원 (필요한 정보 제공)

## **이동**

`U`or `D`의 값을 가짐

그 외의 입력의 경우 `IllegalArgumentException`

## 다리 게임

1. **다리 생성 (`initialize`)**
    - 사용자로부터 다리 길이를 입력 받아 다리 생성

2. **게임 진행 (`progress`)**
    - 사용자로부터 선택지(U/D)를 입력 받아 이동
    - 게임 클리어 / 오버 시 해당 분기점에 알맞은 작업 수행
        - **게임 클리어인 경우**

          알맞은 형식으로 출력 후 게임 종료
          (게임 결과 / 성공 여부 / 시도 횟수)

        - **게임 오버인 경우**
          게임 오버 형식 출력 후 재 시작 여부를 입력 받음
          (R → 재시작 / Q → 종료)

3. **게임 종료 (`end`)**
    - 게임 시도 횟수
    - 게임 성공 여부
    - 현재 게임 맵 상태를 출력
- 각각의 입력에서 잘못된 입력이 들어오는 경우, 에러 메시지 출력 후 다시 입력

---

# **🚀**도메인 구분

## ✏️InputView

사용자로부터 입력을 받아 반환하는 역할

<aside>
❗  다리 길이를 입력 받는 기능 `([3,20])`

이동 위치를 입력 받는 기능 (`U/D`)

게임 재 시도 여부를 입력 받는 기능 (`R/Q`)

→ 숫자를 입력 받는 기능 / 문자를 입력 받는 기능
→ 최소한의 검증을 담당(숫자인지 / 비어있지는 않은지 등)

</aside>

## 💻OutputView

사용자에게 게임 진행 상황 / 결과를 출력하는 역할

<aside>
❗ 현재까지의 이동 기록을 출력하는 기능

게임 최종 결과를 출력하는 기능
- 다리 상태
- 게임 성공 여부
- 시도 횟수

에러 메시지를 출력하는 기능

</aside>

## 💻InputValidator

입력 값의 검증을 담당

<aside>
❗ 다리 길이를 검증하는 기능

게임 중 이동을 위한 입력을 검증하는 기능

게임 재 시작을 위한 입력을 검증하는 기능

</aside>

## ✏️Bridge(Random)NumberGenerator

다리 위치 별 알맞은 선택지`(U / D)`를 정하는 역할

<aside>
❗  `0` or `1`의 값을 반환하는 기능

</aside>

## 📠BridgeMaker

입력 받은 다리 길이를 바탕으로 다리를 생성해 반환하는 역할

<aside>
❗ 다리 길이를 입력 받아 다리를 생성, 반환하는 기능

</aside>

## 🎮BridgeGame

다리 게임을 진행하는 역할

<aside>
❗ 한 칸 전진을 수행하는 기능

게임을 재 시작하는 기능

현재까지 게임 결과를 반환하는 기능
(게임 시도 횟수
게임 실패 여부
이동 기록)

</aside>

---

## ✏️GameController

게임 전체 흐름을 제어하는 역할

<aside>
❗ `BridgeGame` 초기화 기능(다리 생성)

`BridgeGame` 진행 기능(이동 선택을 입력 받아 이동)

`BridgeGame` 종료 시 전체 결과를 출력하는 기능

입력을 받아 `BridgeGame`로 전달하는 기능

</aside>

## ❓MoveDirection

사용자가 이동하기를 원하는 칸(위 / 아래)를 나타내는 역할

<aside>
❗ 아래의 두 가지 상태를 가짐
`UP(”U”,0)`
`DOWN(”D”,1)`

`U / D`를 입력 받아 알맞은 `MoveDirection`을 반환하는 기능

숫자(`0/1`) / 문자(`U/D`)를 입력 받아 대응되는 `MoveDirection`반환하는 기능

잘못된 입력이 들어오는 경우 `IllegalArgumentException`을 반환

</aside>

## ❓RetryIntention

사용자의 게임 재 도전 의사를 나타내는 역할

<aside>
❗ 아래의 두 가지 상태를 가짐
`QUIT('Q',false)`
`CONTINUE('C',true)`

`Q / D`를 입력 받아 사용자가 게임을 다시 시작하기를 원하는지 여부를 반환하는 기능

잘못된 입력이 들어오는 경우 `IllegalArgumentException`을 반환

</aside>

## 🎮BrideGame

현재까지 게임 정보를 담고 있는 객체

<aside>
❗ 게임 총 시도 횟수를 반환하는 기능

게임 상태를 반환하는 기능(실패 / 성공 / 진행 중)

현재 게임 상태를 반환하는 기능

이동 방향을 입력 받아 이동 & 이동 기록을 갱신하는 기능

게임을 재 시작하는 기능

</aside>

## 🎮ErrorMessage

프로그램 실행 과정에서 발생하는 에러 목록을 정의하는 역할

## 🎮OutputMessage

사용자에게 출력 되는 문자열 형식을 담고 있는 역할