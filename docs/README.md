# 4주차 - 다리 건너기

## 기능 요구 사항

- **DDD 도메인 주도 설계 (객체를 객체답게)**
  - 도메인 노출을 적게
  - controller와 service 간 데이터 전달은 dto 사용
  - dto는 데이터 전달 목적으로만 사용


---
### 기능 목록 정리
- 기본 규칙
  - [x] 다리는 왼쪽에서 오른쪽으로 건넌다.
  - [x] 위, 아래 둘 중 하나의 칸만 건널 수 있다.
    - 건널 수 있으면 O, 건너지 못하면 X로 표시한다.
  - [x] 한 게임 당 하나의 다리를 재사용한다.
  - [x] **사용자가 잘못된 값을 입력할 경우**
    - IllegalArgumentException을 발생시키고
    - 에러 메시지를 출력 후
    - 그 부분부터 입력을 다시 받는다.
  - [x] 게임 종료
    - 다리를 끝까지 건너면 게임이 종료된다.
    - 사용자가 Q를 입력해 게임을 종료한다.
  - [x] 게임 성공 여부와 시도 횟수를 출력한다.


- 출력문 분할
  - [x] 게임 시작 문구를 출력한다.
  - [x] 다리의 길이를 입력 받는 문구를 출력한다.
  - [x] 이동할 칸을 선택하는 문구를 출력한다.
  - [x] **다리를 출력한다.**
    - [x] 이동할 수 있는 칸은 O 표시
    - [x] 이동할 수 없는 칸은 X 표시
    - [x] 선택하지 않은 칸은 공백 한 칸으로 표시
    - [x] 다리의 시작은 "[", 다리의 끝은 "]" 표시
    - [x] 다리 칸의 구분은 " | " 문자열로 구분
    - [x] 현재까지 이동한 다리를 모두 출력한다.
  - [x] 게임을 다시 시도할지 묻는 문구를 출력한다.
  - [x] 예외 사항 시 에러 문구를 출력한다.
    - "[ERROR]"로 에러 메시지를 출력해야 한다.
  - [x] 최종 게임 결과를 출력한다.
  - [x] 게임 성공 여부를 출력한다.
  - [x] 총 시도한 횟수를 출력한다.


- 입력 값 제한
    - [x] 다리의 길이는 3 ~ 20 사이이다.
    - [x] 이동하는 칸 입력 시 U, D 중 하나의 문자만 입력 받는다.
    - [x] 게임 재시작/종료 여부 입력 시 R, Q 중 하나의 문자만 입력 받는다.

---
### 프로그래밍 요구 사항
- [x] JDK 버전이 11인가?
- [x] build.gradle을 변경하지 않았는가?
- [x] System.exit()을 호출하지 않았는가?
- [x] 요구 사항에서 명시하지 않은 한 파일, 패키지 이름을 수정하거나 이동하지 않는다.
- [x] indent의 depth가 3이 넘지 않는가?
- [x] 3항 연산자를 쓰지 않았는가?
- [x] 메서드가 하나의 일만 하도록 구현했는가?
- [x] else 예약어를 사용하지 않았는가?
- [x] 기능 목록 테스트 코드를 구현했는가?
- [x] 도메인 로직에 단위 테스트를 구현했는가?

#### 추가된 요구 사항
- [x] 메서드의 길이가 10라인을 넘어가지 않도록 구현한다.
- [x] 메서드의 파라미터 개수는 최대 3개까지 허용한다.
- [x] 제공한 클래스 요구 사항을 참고하여 구현한다.
  - **BridgeGame 클래스에서 InputView, OutputView를 사용하지 않는다.**

---
> InputView
> - 패키지 변경 가능
> - 메서드의 시그니처와 반환 타입 변경 가능
> - 메서드 추가 가능

> OutputView
> - 패키지 변경 가능
> - **메서드 이름 변경 불가능**, 인자와 반환 타입 추가 및 변경 가능
> - 메서드 추가 가능

> BridgeGame
> - 필드 추가 가능
> - 패키지 변경 가능
> - **메서드 이름 변경 불가능**, 인자와 반환 타입 추가 및 변경 가능
> - 메서드 추가 가능

> BridgeMaker 
> - **필드 변경 불가능**
> - **메서드 시그니처 변경 불가능**
> - 원본 코드 내용
> ``` java
> public class BridgeMaker {
>
>    public List<String> makeBridge(int size) {
>        return null;
>    }
> }
> ```


---
MVC 패턴을 적용해 Controller - Service - Domain으로 구현했다.

Controller와 Service 간 DTO로 정보를 주고 받는다.

#### TODO
- 도메인 로직 서비스 로직으로 변경하기
- Controller 로직 축소시키기
- 테스트 코드 작성하기