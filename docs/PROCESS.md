# 설계 및 구현 과정

## 요구 사항 분석

### 입력
- 공통 적용 사항
  - 입력 부분에서 에러 발생시, 값을 다시 받음


- 다리의 길이를 입력
  - 3 이상 20 이하의 숫자를 입력하지 않으면 에러 발생
- 플레이어가 이동할 칸을 입력받음
  - 주어진 특정문자(U, D)외의 문자를 입력받으면 예외 처리한다.
- 게임 재시작 / 종료 여부를 입력 받는다.
  - 주어진 특정문자(R, Q)외의 문자를 입력받으면 예외 처리한다.

### 출력
- 게임 시작 문구 출력
  ```
  다리 건너기 게임을 시작합니다.
  ```
- 게임 종료 문구 출력
  - 다리의 현재 상황, 게임 성공 여부, 총 시도 횟수 출력
  ```
    최종 게임 결과
    [ O |   |   ]
    [   | O | O ]
    
    게임 성공 여부: 성공
    총 시도한 횟수: 2
  ```
- 다리의 현재 진행 상황 출력
  ```
    [ O |   ]
    [   | O ]
  ```

### 기능

- 다리를 만드는 기능
  - 다리의 길이에 따라 다리를 만듦
  - 2개의 길 중 하나의 길만 통과할 수 있도록 설정함
- 이동하는 기능
  - 다음으로 이동하는 기능 추가
- 다리를 잘 건넜는지 확인하는 기능
  - 이동 경로와 정답
- 다리를 전부 건넜는지 확인하는 기능
- 실패했을 경우 재시도하는 기능

## 확장성 고려

- ~~다리의 길의 개수를 위, 아래 뿐 아니라 추가로 늘릴 수 있도록 함~~
  - ~~4개의 길을 만들어 위, 중간1, 중간2, 아래 형식으로 만들 수 있다.~~
- ~~통과할 수 있는 칸의 개수를 1개가 아니라 여러개로 늘릴 수 있다.~~
  - ~~4개의 길 중 2개를 통과할 수 있는 길로 만들 수 있다.~~
- BridgeMaker 등에서 형식을 제한하고 있으므로 주어진 조건을 최대한 만족한다.
  - 다른 확장성은 고려하지 않는다.

## 대략적인 도메인 나누기

- view
  - InputView : 입력 요청 메세지 출력 & 받은 입력값 제공
    - 다리의 길이를 입력
      - 3 이상 20 이하의 숫자를 입력하지 않으면 에러 발생
    - 플레이어가 이동할 칸을 입력받음
        - 주어진 특정문자(U, D)외의 문자를 입력받으면 예외 처리한다.
    - 게임 재시작 / 종료 여부를 입력 받는다.
        - 주어진 특정문자(R, Q)외의 문자를 입력받으면 예외 처리한다.
  - OutputView : 주어진 데이터를 바탕으로 문구 출력
    - 게임 시작 문구 출력
    - 다리의 현재 진행 상황 출력
    - 실패시, 재시작을 묻는 문구 출력
    - 게임 종료 문구 출력


- BridgeGame : 전반적인 게임 기능을 실시함
  - 앞으로 움직이는 것을 구현
  - 재시작시 이동한 것을 초기화하는 것을 구현
- BridgeMaker : 게임 시작 시에 bridge를 만드는 역할을 함
  - bridge를 만듦 (위는 'U' 아래는 'D'를 넣어서 List<String> 형태로 구현)


- BridgeApplication
  - 전반적인 실행 과정 작성


## 최종 Class 구조

<p align="center">
  <img width="400" src="./structure.png">
</p>

## Class 별 역할 및 기능

- InputView : 입력 요청 메세지 출력 & 받은 입력값 제공
    - 공통 : 에러 발생시, 값을 다시 입력받음
    - 다리의 길이를 입력받음
        - 3 이상 20 이하의 숫자를 입력하지 않으면 `IllegalArgumentException` 에러 발생
    - 플레이어가 이동할 칸을 입력받음
        - 주어진 특정문자(U, D)외의 문자를 입력받으면 `IllegalArgumentException` 에러 발생
    - 게임 재시작 / 종료 여부를 입력 받는다.
        - 주어진 특정문자(R, Q)외의 문자를 입력받으면 `IllegalArgumentException` 에러 발생

- OutputView : 주어진 데이터를 바탕으로 문구 출력
    - 게임 시작 문구 출력
    - 다리의 현재 진행 상황 출력
    - 게임 종료 및 게임 결과 문구 출력


- BridgeGame : 전반적인 게임 기능을 실시함, 게임 상황을 반환함
    - 앞으로 움직이는 기능 구현
    - 재시작시 이동한 것을 초기화하는 기능 구현
    - 현재 계속 건널 수 있는 상태인지 확인하는 기능 구현
    - 게임이 성공했는지 확인하는 기능
- BridgeMaker : bridge를 만드는 역할을 함
    - bridge를 만듦
      - BridgeNumberGenerator 에서 0을 전달하면 아래를 추가, 1을 전달하면 위를 추가함
      - 위는 'U' 아래는 'D'를 넣어서 StringList 형태로 구현


- BridgeApplication : 전반적인 실행 과정 진행
  - 다른 객체들을 이용하여 전반적인 진행 과정 구현
    - 다리 길이를 입력받아 BridgeGame을 만듦
    - 이동할 곳을 입력받아 이동함
    - 다리 끝까지 이동했거나 이동하는 데 실패할 경우 중단함
    - 이동에 실패했을 경우, 재시도 여부를 입력받음
    - 끝까지 이동했거나 실패했을 때 끝낸 경우, 게임 결과를 출력함